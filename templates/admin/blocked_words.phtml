<h1 class="text-3xl font-bold text-purple-800 mb-6">Gerenciamento de Palavras Bloqueadas</h1>

<?php if (!empty($success_message)): ?>
    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4"><?php echo $success_message; ?></div>
<?php endif; ?>
<?php if (!empty($errors)): ?>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"><ul><?php foreach ($errors as $error) echo "<li>$error</li>"; ?></ul></div>
<?php endif; ?>

<div class="grid md:grid-cols-3 gap-8">
    <div class="md:col-span-1">
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-bold mb-4">Adicionar Palavra</h2>
            <form action="/admin/blocked-words" method="POST">
                <label for="word" class="block text-gray-700 font-bold mb-2">Palavra ou Termo</label>
                <input type="text" id="word" name="word" class="w-full px-3 py-2 border rounded-lg" required>
                <p class="text-xs text-gray-500 mt-1">A verificação não diferencia maiúsculas de minúsculas.</p>
                <button type="submit" name="add_blocked_word" class="w-full mt-4 bg-orange-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-orange-600">Adicionar</button>
            </form>
        </div>
    </div>
    <div class="md:col-span-2">
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-bold mb-4">Lista de Palavras Bloqueadas</h2>
            <div class="overflow-y-auto max-h-96">
                <ul class="space-y-2">
                    <?php foreach ($blocked_words as $word): ?>
                    <li class="flex justify-between items-center p-2 bg-gray-50 rounded">
                        <span><?php echo htmlspecialchars($word['word']); ?></span>
                        <form action="/admin/blocked-words" method="POST" onsubmit="return confirm('Tem a certeza?');">
                            <input type="hidden" name="word_id" value="<?php echo $word['id']; ?>">
                            <button type="submit" name="delete_blocked_word" class="text-red-500 hover:text-red-700">Apagar</button>
                        </form>
                    </li>
                    <?php endforeach; ?>
                </ul>
            </div>
        </div>
    </div>
</div>
